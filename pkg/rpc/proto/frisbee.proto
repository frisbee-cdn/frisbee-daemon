syntax = "proto3";

package models;

service Frisbee {

    rpc Ping(CheckStatusRequest) returns (CheckStatusReply) {};

    rpc Store(StoreRequest) returns (Error){};

    rpc FindNode(ID) returns (NodeResponse) {};

    rpc FindValue(ID) returns (StorageResponse) {};

}

// Node cotains ID and address
message Node {
    bytes id = 1;
    uint32 port = 2;
    string addr = 3;
}

message NodeResponse {
    repeated Node nodes = 1;
}

message Error {}

message ID {
    bytes id = 1;
}

message CheckStatusRequest{
    string message = 1;
}

message CheckStatusReply{
    string status = 1;
}

message StoreRequest {
    string key = 1;
    bytes content = 2;
}

message StorageResponse {
    bytes content = 1;
}
